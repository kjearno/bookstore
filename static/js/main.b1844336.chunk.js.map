{"version":3,"sources":["shared/assets/banner.png","shared/components/Announcement/index.jsx","shared/constants/requestStatus.js","shared/lib/focusDetector/index.js","shared/lib/axios.js","features/entities/books/lib/limitDescription.js","features/entities/books/booksSlice.js","features/entities/categories/categoriesSlice.js","features/entities/index.js","features/cart/selectors.js","features/cart/cartSlice.js","features/cart/components/CartTable/Product.jsx","features/cart/hooks/useProduct.js","features/cart/components/CartTable/index.jsx","features/cart/hooks/useCart.js","shared/components/Book/index.jsx","features/cart/hooks/useItem.js","shared/components/Book/Loader.jsx","shared/assets/cart.svg","shared/components/Header/Controls.jsx","shared/components/Header/Logo.jsx","shared/components/Header/index.jsx","shared/components/Loader/index.jsx","shared/components/Pagination/index.jsx","shared/components/Redirector/index.jsx","shared/components/ScrollToTop.js","features/category/selectors.js","features/category/categorySlice.js","features/category/components/Category/renderContent.jsx","features/category/components/Category/index.jsx","features/category/hooks/usePage.js","shared/components/Sidebar/Menu.jsx","features/entities/categories/hooks/useCategories.js","features/category/hooks/useCategory.js","shared/components/Sidebar/index.jsx","shared/templates/CommonTemplate.jsx","shared/templates/HomeTemplate.jsx","pages/_routes.js","pages/index.jsx","pages/cart.jsx","pages/404.jsx","pages/_app.jsx","shared/lib/store/rootReducer.js","shared/lib/store/index.js","index.jsx","features/cart/components/CartTable/Product.module.scss","features/category/components/Category/Category.module.scss","features/cart/components/CartTable/CartTable.module.scss","shared/components/Sidebar/Menu.module.scss","shared/templates/HomeTemplate.module.scss","shared/components/Announcement/Announcement.module.scss","shared/components/Header/Controls.module.scss","shared/components/Header/Logo.module.scss","shared/components/Header/Header.module.scss","shared/components/Loader/Loader.module.scss","shared/components/Pagination/Pagination.module.scss","shared/components/Redirector/Redirector.module.scss","shared/components/Book/Book.module.scss","shared/components/Sidebar/Sidebar.module.scss","shared/styles/Cart.module.scss"],"names":["Announcement","className","styles","announcement","src","banner","alt","IDLE_STATUS","LOADING_STATUS","SUCCEEDED_STATUS","document","body","addEventListener","classList","add","event","code","remove","instance","axios","create","baseURL","limitDescription","entity","limit","Object","values","map","item","description","slice","trim","reduce","accumulator","currentValue","id","adapter","createEntityAdapter","sortComparer","a","b","getSelectors","state","entities","books","selectAllBooks","selectById","selectIds","selectEntities","selectAll","categoryEntity","selectTotal","schema","Entity","bookEntity","category","fetchBooks","createAsyncThunk","params","get","res","normalized","normalize","data","rows","total","count","fetchBook","initialState","getInitialState","status","createSlice","name","extraReducers","pending","fulfilled","action","payload","editedBooks","addMany","categories","selectAllCategories","selectTotalCategories","selectCategoriesStatus","fetchCategories","condition","_","getState","setAll","persistReducer","key","storage","whitelist","keyPrefix","reducer","entitiesReducer","combineReducers","booksReducer","categoriesReducer","cart","ids","selectStatus","selectTotalItems","createSelector","length","selectQuantity","items","quantity","selectProducts","filter","book","includes","sort","indexOf","selectSubtotalPrice","productId","products","product","find","Math","round","price","selectTotalPrice","totalPrice","fetchItems","dispatch","itemIds","Promise","all","reducers","itemToggled","unshift","itemRemoved","quantityChanged","itemId","Number","cartCleared","actions","Product","cover","author","title","useDispatch","useSelector","subtotalPrice","useState","value","setValue","onItemRemove","onValueChange","e","currentTarget","onQuantityChange","type","useProduct","content","removeButton","onClick","onChange","onBlur","onKeyDown","CartTable","history","useHistory","addToast","useToasts","totalItems","useEffect","isLoading","isCartEmpty","onOrderClick","confirmAlert","message","buttons","label","push","appearance","useCart","Redirector","table","button","Book","isAddedToCart","useMemo","onItemToggle","useItem","Loader","style","boxShadow","height","Controls","controls","to","Logo","logo","Header","header","loader","color","size","Pagination","current","pageSize","pagination","locale","defaultProps","ScrollToTop","pathname","useLocation","window","scrollTo","selectCategoryId","selectPageId","page","selectPageVisibility","isVisible","selectPagination","selectTotalBooks","categoryId","totalBooks","selectPage","pageId","pageShape","bookIds","pages","selectPageStatus","selectBooks","fetchPage","sortBy","categoryChanged","pageChanged","pageVisibilityChanged","meta","arg","keys","renderContent","Array","xs","lg","Category","noBooks","onPageChange","scroller","onVisibilityChange","usePage","partialVisibility","paginationCol","cx","classNames","bind","Menu","totalCategories","useCategories","isPageVisible","onCategoryChange","smooth","useCategory","menu","active","Sidebar","sidebar","CommonTemplate","children","HomeTemplate","main","path","exact","component","Helmet","wrapper","App","autoDismiss","defaultTitle","titleTemplate","renderRoutes","routes","rootReducer","cartReducer","categoryReducer","persistConfig","persistedReducer","store","configureStore","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","persistor","persistStore","ReactDOM","render","StrictMode","loading","getElementById","module","exports"],"mappings":"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","file":"static/js/main.b1844336.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/banner.f8c14c15.png\";","import React from \"react\";\r\nimport banner from \"@shared/assets/banner.png\";\r\nimport styles from \"./Announcement.module.scss\";\r\n\r\nexport function Announcement() {\r\n  return (\r\n    <div className={styles.announcement}>\r\n      <img src={banner} alt=\"\" />\r\n    </div>\r\n  );\r\n}\r\n","export const IDLE_STATUS = \"idle\";\r\nexport const LOADING_STATUS = \"loading\";\r\nexport const SUCCEEDED_STATUS = \"succeeded\";\r\nexport const FAILED_STATUS = \"failed\";\r\n","import \"./style.css\";\r\n\r\ndocument.body.addEventListener(\"mousedown\", () => {\r\n  document.body.classList.add(\"using-mouse\");\r\n});\r\n\r\ndocument.body.addEventListener(\"keydown\", (event) => {\r\n  if (event.code === \"Tab\") {\r\n    document.body.classList.remove(\"using-mouse\");\r\n  }\r\n});\r\n","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://bookstore-73510.herokuapp.com/api\",\r\n});\r\n\r\nexport { instance as axios };\r\n","export const limitDescription = (entity, limit) => {\r\n  const processed = Object.values(entity).map((item) => {\r\n    item.description = `${item.description.slice(0, limit).trim()}...`;\r\n    return item;\r\n  });\r\n\r\n  return processed.reduce((accumulator, currentValue) => {\r\n    accumulator[currentValue.id] = currentValue;\r\n    return accumulator;\r\n  }, {});\r\n};\r\n","import {\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n  createSlice,\r\n} from \"@reduxjs/toolkit\";\r\nimport { normalize, schema } from \"normalizr\";\r\n\r\nimport {\r\n  IDLE_STATUS,\r\n  LOADING_STATUS,\r\n  SUCCEEDED_STATUS,\r\n} from \"@shared/constants\";\r\nimport { axios } from \"@shared/lib\";\r\nimport { limitDescription } from \"./lib\";\r\n\r\nconst adapter = createEntityAdapter({\r\n  sortComparer: (a, b) => b.id - a.id,\r\n});\r\n\r\nexport const {\r\n  selectById: selectBookById,\r\n  selectIds: selectBookIds,\r\n  selectEntities: selectBookEntities,\r\n  selectAll: selectAllBooks,\r\n  selectTotal: selectTotalBooks,\r\n} = adapter.getSelectors((state) => state.entities.books);\r\n\r\nconst categoryEntity = new schema.Entity(\"categories\");\r\nconst bookEntity = new schema.Entity(\"books\", {\r\n  category: categoryEntity,\r\n});\r\n\r\nexport const fetchBooks = createAsyncThunk(\r\n  \"entities/fetchBooks\",\r\n  async (params) => {\r\n    const res = await axios.get(\"/books\", { params });\r\n    const normalized = normalize(res.data.rows, [bookEntity]);\r\n\r\n    return {\r\n      total: res.data.count,\r\n      entities: normalized.entities,\r\n    };\r\n  }\r\n);\r\n\r\nexport const fetchBook = createAsyncThunk(\"entities/fetchBook\", async (id) => {\r\n  const res = await axios.get(`/books/${id}`);\r\n  const normalized = normalize(res.data, bookEntity);\r\n\r\n  return normalized.entities;\r\n});\r\n\r\nconst initialState = adapter.getInitialState({\r\n  status: IDLE_STATUS,\r\n});\r\n\r\nconst slice = createSlice({\r\n  name: \"entities\",\r\n  initialState,\r\n  extraReducers: {\r\n    [fetchBooks.pending]: (state) => {\r\n      state.status = LOADING_STATUS;\r\n    },\r\n    [fetchBooks.fulfilled]: (state, action) => {\r\n      state.status = SUCCEEDED_STATUS;\r\n      const { books = {} } = action.payload.entities;\r\n\r\n      const editedBooks = limitDescription(books, 100);\r\n      adapter.addMany(state, editedBooks);\r\n    },\r\n    [fetchBook.pending]: (state) => {\r\n      state.status = LOADING_STATUS;\r\n    },\r\n    [fetchBook.fulfilled]: (state, action) => {\r\n      state.status = SUCCEEDED_STATUS;\r\n      const { books } = action.payload;\r\n\r\n      const editedBooks = limitDescription(books, 100);\r\n      adapter.addMany(state, editedBooks);\r\n    },\r\n  },\r\n});\r\n\r\nexport default slice.reducer;\r\n","import {\r\n  createAsyncThunk,\r\n  createEntityAdapter,\r\n  createSlice,\r\n} from \"@reduxjs/toolkit\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport {\r\n  IDLE_STATUS,\r\n  LOADING_STATUS,\r\n  SUCCEEDED_STATUS,\r\n} from \"@shared/constants\";\r\nimport { axios } from \"@shared/lib\";\r\nimport { fetchBooks, fetchBook } from \"../books\";\r\n\r\nconst adapter = createEntityAdapter();\r\n\r\nexport const {\r\n  selectById: selectCategoryById,\r\n  selectIds: selectCategoryIds,\r\n  selectEntities: selectCategoryEntities,\r\n  selectAll: selectAllCategories,\r\n  selectTotal: selectTotalCategories,\r\n} = adapter.getSelectors((state) => state.entities.categories);\r\n\r\nexport const selectCategoriesStatus = (state) =>\r\n  state.entities.categories.status;\r\n\r\nexport const fetchCategories = createAsyncThunk(\r\n  \"entities/fetchCategories\",\r\n  async () => {\r\n    const res = await axios.get(\"/categories?limit=100\");\r\n    return res.data.rows;\r\n  },\r\n  {\r\n    condition: (_, { getState }) => {\r\n      const status = selectCategoriesStatus(getState());\r\n\r\n      if (status === LOADING_STATUS || status === SUCCEEDED_STATUS) {\r\n        return false;\r\n      }\r\n    },\r\n  }\r\n);\r\n\r\nconst initialState = adapter.getInitialState({\r\n  status: IDLE_STATUS,\r\n});\r\n\r\nconst slice = createSlice({\r\n  name: \"entities\",\r\n  initialState,\r\n  extraReducers: {\r\n    [fetchCategories.pending]: (state) => {\r\n      state.status = LOADING_STATUS;\r\n    },\r\n    [fetchCategories.fulfilled]: (state, action) => {\r\n      state.status = SUCCEEDED_STATUS;\r\n      adapter.setAll(state, action.payload);\r\n    },\r\n    [fetchBooks.fulfilled]: (state, action) => {\r\n      const { categories = {} } = action.payload.entities;\r\n      adapter.addMany(state, categories);\r\n    },\r\n    [fetchBook.fulfilled]: (state, action) => {\r\n      const { categories } = action.payload;\r\n      adapter.addMany(state, categories);\r\n    },\r\n  },\r\n});\r\n\r\nexport default persistReducer(\r\n  {\r\n    key: \"categories\",\r\n    storage,\r\n    whitelist: [\"ids\", \"entities\"],\r\n    keyPrefix: \"bookstore:\",\r\n  },\r\n  slice.reducer\r\n);\r\n","import { combineReducers } from \"@reduxjs/toolkit\";\r\nimport { booksReducer } from \"./books\";\r\nimport { categoriesReducer } from \"./categories\";\r\n\r\nexport * from \"./books\";\r\nexport * from \"./categories\";\r\n\r\nexport const entitiesReducer = combineReducers({\r\n  books: booksReducer,\r\n  categories: categoriesReducer,\r\n});\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\nimport { selectAllBooks } from \"@features/entities\";\r\n\r\nexport const selectIds = (state) => state.cart.ids;\r\nexport const selectStatus = (state) => state.cart.status;\r\n\r\nexport const selectTotalItems = createSelector(selectIds, (ids) => ids.length);\r\n\r\nexport const selectQuantity = createSelector(\r\n  (state, id) => state.cart.items[id],\r\n  (item) => item.quantity\r\n);\r\n\r\nexport const selectProducts = createSelector(\r\n  selectIds,\r\n  selectAllBooks,\r\n  (ids, books) => {\r\n    const matchedItems = books.filter((book) => ids.includes(book.id));\r\n    return matchedItems.sort((a, b) => ids.indexOf(a.id) - ids.indexOf(b.id));\r\n  }\r\n);\r\n\r\nexport const selectSubtotalPrice = createSelector(\r\n  selectQuantity,\r\n  selectProducts,\r\n  (_, productId) => productId,\r\n  (quantity, products, productId) => {\r\n    const product = products.find((item) => item.id === productId);\r\n\r\n    if (product) {\r\n      return Math.round(quantity * product.price * 100) / 100;\r\n    }\r\n  }\r\n);\r\n\r\nexport const selectTotalPrice = createSelector(\r\n  selectIds,\r\n  (state) => state,\r\n  (ids, state) => {\r\n    const totalPrice = ids.reduce((accumulator, currentValue) => {\r\n      const subtotalPrice = selectSubtotalPrice(state, currentValue);\r\n      return accumulator + subtotalPrice;\r\n    }, 0);\r\n\r\n    return Math.round(totalPrice * 100) / 100;\r\n  }\r\n);\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\nimport { persistReducer } from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport { fetchBook } from \"@features/entities\";\r\nimport {\r\n  IDLE_STATUS,\r\n  LOADING_STATUS,\r\n  SUCCEEDED_STATUS,\r\n} from \"@shared/constants\";\r\nimport { selectIds, selectStatus } from \"./selectors\";\r\n\r\nexport const fetchItems = createAsyncThunk(\r\n  \"cart/fetchItems\",\r\n  async (_, { dispatch, getState }) => {\r\n    const itemIds = selectIds(getState());\r\n\r\n    return Promise.all(\r\n      itemIds.map(async (id) => {\r\n        await dispatch(fetchBook(id));\r\n      })\r\n    );\r\n  },\r\n  {\r\n    condition: (_, { getState }) => {\r\n      const status = selectStatus(getState());\r\n\r\n      if (status === SUCCEEDED_STATUS) {\r\n        return false;\r\n      }\r\n    },\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  ids: [],\r\n  items: {},\r\n  status: IDLE_STATUS,\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"cart\",\r\n  initialState,\r\n  reducers: {\r\n    itemToggled: (state, action) => {\r\n      if (state.items[action.payload]) {\r\n        delete state.items[action.payload];\r\n        state.ids = state.ids.filter((id) => id !== action.payload);\r\n        return;\r\n      }\r\n\r\n      state.items[action.payload] = { id: action.payload, quantity: 1 };\r\n      state.ids.unshift(action.payload);\r\n    },\r\n    itemRemoved: (state, action) => {\r\n      delete state.items[action.payload];\r\n      state.ids = state.ids.filter((id) => id !== action.payload);\r\n    },\r\n    quantityChanged: (state, action) => {\r\n      const { itemId, quantity } = action.payload;\r\n\r\n      if (quantity <= 0) {\r\n        delete state.items[itemId];\r\n        state.ids = state.ids.filter((id) => id !== itemId);\r\n        return;\r\n      }\r\n\r\n      state.items[itemId].quantity = Number(quantity);\r\n    },\r\n    cartCleared: (state) => {\r\n      state.items = {};\r\n      state.ids = [];\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchItems.pending]: (state) => {\r\n      state.status = LOADING_STATUS;\r\n    },\r\n    [fetchItems.fulfilled]: (state) => {\r\n      state.status = SUCCEEDED_STATUS;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  itemToggled,\r\n  itemRemoved,\r\n  quantityChanged,\r\n  cartCleared,\r\n} = slice.actions;\r\n\r\nexport * from \"./selectors\";\r\n\r\nexport default persistReducer(\r\n  {\r\n    key: \"cart\",\r\n    storage,\r\n    whitelist: [\"ids\", \"items\"],\r\n    keyPrefix: \"bookstore:\",\r\n  },\r\n  slice.reducer\r\n);\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { useProduct } from \"../../hooks\";\r\nimport styles from \"./Product.module.scss\";\r\n\r\nexport function Product({ id, cover, author, title, price }) {\r\n  const {\r\n    value,\r\n    subtotalPrice,\r\n    onItemRemove,\r\n    onValueChange,\r\n    onQuantityChange,\r\n  } = useProduct(id);\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <div className={styles.product}>\r\n          <img src={cover} alt=\"\" />\r\n          <div className={styles.content}>\r\n            <p className={styles.author}>{author.name}</p>\r\n            <h5 className={styles.title}>{title}</h5>\r\n            <p className={styles.price}>{`$${price}`}</p>\r\n            <button\r\n              className={styles.removeButton}\r\n              type=\"button\"\r\n              onClick={onItemRemove}\r\n            >\r\n              Remove\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </td>\r\n      <td>\r\n        <input\r\n          type=\"number\"\r\n          value={value}\r\n          onChange={onValueChange}\r\n          onBlur={onQuantityChange}\r\n          onKeyDown={onQuantityChange}\r\n        />\r\n      </td>\r\n      <td>{`$${subtotalPrice}`}</td>\r\n    </tr>\r\n  );\r\n}\r\n\r\nProduct.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  cover: PropTypes.string.isRequired,\r\n  author: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  price: PropTypes.string.isRequired,\r\n};\r\n","import { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  itemRemoved,\r\n  quantityChanged,\r\n  selectQuantity,\r\n  selectSubtotalPrice,\r\n} from \"../cartSlice\";\r\n\r\nexport const useProduct = (productId) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const quantity = useSelector((state) => selectQuantity(state, productId));\r\n  const subtotalPrice = useSelector((state) =>\r\n    selectSubtotalPrice(state, productId)\r\n  );\r\n\r\n  const [value, setValue] = useState(quantity);\r\n\r\n  const handleItemRemove = () => {\r\n    dispatch(itemRemoved(productId));\r\n  };\r\n\r\n  const handleValueChange = (e) => {\r\n    if (e.currentTarget.value < 0) {\r\n      return;\r\n    }\r\n\r\n    setValue(e.currentTarget.value);\r\n  };\r\n\r\n  const handleQuantityChange = (e) => {\r\n    if (e.type === \"keydown\" && e.key !== \"Enter\") {\r\n      return;\r\n    }\r\n\r\n    dispatch(quantityChanged({ itemId: productId, quantity: value }));\r\n  };\r\n\r\n  return {\r\n    value,\r\n    subtotalPrice,\r\n    onItemRemove: handleItemRemove,\r\n    onValueChange: handleValueChange,\r\n    onQuantityChange: handleQuantityChange,\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nimport { Loader, Redirector } from \"@shared/components\";\r\nimport { useCart } from \"../../hooks\";\r\nimport { Product } from \"./Product\";\r\nimport styles from \"./CartTable.module.scss\";\r\n\r\nexport function CartTable() {\r\n  const { items, totalPrice, isLoading, isCartEmpty, onOrderClick } = useCart();\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (isCartEmpty) {\r\n    return <Redirector message=\"Cart is empty\" />;\r\n  }\r\n\r\n  return (\r\n    <table className={styles.table}>\r\n      <thead>\r\n        <tr>\r\n          <th>Product</th>\r\n          <th>Quantity</th>\r\n          <th>Subtotal</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {items.map((item) => (\r\n          <Product\r\n            id={item.id}\r\n            cover={item.cover}\r\n            author={item.author}\r\n            title={item.title}\r\n            price={item.price}\r\n            key={item.id}\r\n          />\r\n        ))}\r\n      </tbody>\r\n      <tfoot>\r\n        <tr>\r\n          <td />\r\n          <td>Total</td>\r\n          <td>{`$${totalPrice}`}</td>\r\n        </tr>\r\n        <tr>\r\n          <td />\r\n          <td />\r\n          <td>\r\n            <button\r\n              className={styles.button}\r\n              type=\"button\"\r\n              onClick={onOrderClick}\r\n            >\r\n              Order\r\n            </button>\r\n          </td>\r\n        </tr>\r\n      </tfoot>\r\n    </table>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useToasts } from \"react-toast-notifications\";\r\n\r\nimport { IDLE_STATUS, LOADING_STATUS } from \"@shared/constants\";\r\nimport { confirmAlert } from \"@shared/lib\";\r\nimport {\r\n  fetchItems,\r\n  cartCleared,\r\n  selectProducts,\r\n  selectStatus,\r\n  selectTotalItems,\r\n  selectTotalPrice,\r\n} from \"../cartSlice\";\r\n\r\nexport const useCart = () => {\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { addToast } = useToasts();\r\n\r\n  const items = useSelector(selectProducts);\r\n  const status = useSelector(selectStatus);\r\n  const totalItems = useSelector(selectTotalItems);\r\n  const totalPrice = useSelector(selectTotalPrice);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchItems());\r\n  }, [dispatch]);\r\n\r\n  const handleOrderClick = () => {\r\n    confirmAlert({\r\n      message: \"Are you sure you want to order?\",\r\n      buttons: [\r\n        {\r\n          label: \"Yes\",\r\n          onClick: () => {\r\n            history.push(\"/\");\r\n            dispatch(cartCleared());\r\n            addToast(\"Order confirmed\", { appearance: \"success\" });\r\n          },\r\n        },\r\n        {\r\n          label: \"No\",\r\n        },\r\n      ],\r\n    });\r\n  };\r\n\r\n  return {\r\n    items,\r\n    totalPrice,\r\n    isLoading: status === IDLE_STATUS || status === LOADING_STATUS,\r\n    isCartEmpty: !totalItems,\r\n    onOrderClick: handleOrderClick,\r\n  };\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nimport { useItem } from \"@features/cart\";\r\nimport { Loader } from \"./Loader\";\r\nimport styles from \"./Book.module.scss\";\r\n\r\nexport function Book({ id, cover, author, title, description, price }) {\r\n  const { isAddedToCart, onItemToggle } = useItem(id);\r\n\r\n  return (\r\n    <article className={styles.book}>\r\n      <div className={styles.cover}>\r\n        <img src={cover} alt=\"\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <p className={styles.author}>{author.name}</p>\r\n        <h5 className={styles.title}>{title}</h5>\r\n        <p className={styles.description}>{description}</p>\r\n        <p className={styles.price}>{`$${price}`}</p>\r\n        <button className={styles.button} type=\"button\" onClick={onItemToggle}>\r\n          {isAddedToCart ? \"Added to cart\" : \"Buy now\"}\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n\r\nBook.propTypes = {\r\n  id: PropTypes.number.isRequired,\r\n  cover: PropTypes.string.isRequired,\r\n  author: PropTypes.shape({\r\n    name: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  title: PropTypes.string.isRequired,\r\n  description: PropTypes.string.isRequired,\r\n  price: PropTypes.string.isRequired,\r\n};\r\n\r\nBook.Loader = Loader;\r\n","import { useMemo } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { itemToggled, selectIds } from \"../cartSlice\";\r\n\r\nexport const useItem = (id) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const itemIds = useSelector(selectIds);\r\n  const isAddedToCart = useMemo(() => itemIds.includes(id), [id, itemIds]);\r\n\r\n  const handleItemToggle = () => {\r\n    dispatch(itemToggled(id));\r\n  };\r\n\r\n  return {\r\n    isAddedToCart,\r\n    onItemToggle: handleItemToggle,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport Skeleton from \"react-loading-skeleton\";\r\nimport styles from \"./Book.module.scss\";\r\n\r\nexport function Loader() {\r\n  return (\r\n    <article className={styles.book}>\r\n      <div className={styles.cover} style={{ boxShadow: \"none\" }}>\r\n        <Skeleton height=\"100%\" />\r\n      </div>\r\n      <div className={styles.content}>\r\n        <p className={styles.author}>\r\n          <Skeleton />\r\n        </p>\r\n        <h5 className={styles.title}>\r\n          <Skeleton />\r\n        </h5>\r\n        <p className={styles.description}>\r\n          <Skeleton count={3} />\r\n        </p>\r\n        <p className={styles.price}>\r\n          <Skeleton />\r\n        </p>\r\n\r\n        <Skeleton height={45} />\r\n      </div>\r\n    </article>\r\n  );\r\n}\r\n","export default __webpack_public_path__ + \"static/media/cart.ffee8bd2.svg\";","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport cart from \"@shared/assets/cart.svg\";\r\nimport styles from \"./Controls.module.scss\";\r\n\r\nexport function Controls() {\r\n  return (\r\n    <nav className={styles.controls}>\r\n      <Link to=\"/cart\">\r\n        <img src={cart} alt=\"\" />\r\n      </Link>\r\n    </nav>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport styles from \"./Logo.module.scss\";\r\n\r\nexport function Logo() {\r\n  return (\r\n    <div className={styles.logo}>\r\n      <Link to=\"/\">Bookstore</Link>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Controls } from \"./Controls\";\r\nimport { Logo } from \"./Logo\";\r\nimport styles from \"./Header.module.scss\";\r\n\r\nexport function Header() {\r\n  return (\r\n    <header className={styles.header}>\r\n      <Logo />\r\n      <Controls />\r\n    </header>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport MoonLoader from \"react-spinners/MoonLoader\";\r\nimport styles from \"./Loader.module.scss\";\r\n\r\nexport function Loader() {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <MoonLoader color=\"#4c3db2\" size={40} />\r\n    </div>\r\n  );\r\n}\r\n","import \"rc-pagination/assets/index.css\";\r\nimport PropTypes from \"prop-types\";\r\nimport RcPagination from \"rc-pagination\";\r\nimport locale from \"rc-pagination/es/locale/en_US\";\r\nimport React from \"react\";\r\n\r\nimport styles from \"./Pagination.module.scss\";\r\n\r\nexport function Pagination({ current, total, pageSize, onChange }) {\r\n  return (\r\n    <RcPagination\r\n      className={styles.pagination}\r\n      current={current}\r\n      total={total}\r\n      pageSize={pageSize}\r\n      locale={locale}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n}\r\n\r\nPagination.propTypes = {\r\n  current: PropTypes.number.isRequired,\r\n  total: PropTypes.number,\r\n  pageSize: PropTypes.number.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nPagination.defaultProps = {\r\n  total: 0,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport styles from \"./Redirector.module.scss\";\r\n\r\nexport function Redirector({ message }) {\r\n  return (\r\n    <>\r\n      <p className={styles.message}>{message}</p>\r\n      <Link to=\"/\">Go Home</Link>\r\n    </>\r\n  );\r\n}\r\n\r\nRedirector.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport function ScrollToTop() {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0);\r\n  }, [pathname]);\r\n\r\n  return null;\r\n}\r\n","import { createSelector } from \"@reduxjs/toolkit\";\r\nimport { selectAllBooks } from \"@features/entities\";\r\nimport { LOADING_STATUS } from \"@shared/constants\";\r\n\r\nexport const selectCategoryId = (state) => state.category.current;\r\nexport const selectPageId = (state) => state.category.page;\r\nexport const selectPageVisibility = (state) => state.category.isVisible;\r\nexport const selectPagination = (state) => state.category.pagination;\r\n\r\nexport const selectTotalBooks = createSelector(\r\n  selectPagination,\r\n  selectCategoryId,\r\n  (pagination, categoryId) => {\r\n    if (pagination[categoryId]) {\r\n      return pagination[categoryId].totalBooks;\r\n    }\r\n  }\r\n);\r\n\r\nexport const selectPage = createSelector(\r\n  selectPagination,\r\n  selectCategoryId,\r\n  selectPageId,\r\n  (pagination, categoryId, pageId) => {\r\n    const pageShape = {\r\n      bookIds: [],\r\n      status: LOADING_STATUS,\r\n    };\r\n\r\n    return pagination[categoryId]?.pages[pageId] || pageShape;\r\n  }\r\n);\r\n\r\nexport const selectPageStatus = createSelector(\r\n  selectPage,\r\n  (page) => page.status\r\n);\r\n\r\nexport const selectBooks = createSelector(\r\n  selectPage,\r\n  selectAllBooks,\r\n  (page, books) => {\r\n    const { bookIds } = page;\r\n    return books.filter((book) => bookIds.includes(book.id));\r\n  }\r\n);\r\n","import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport { fetchBooks } from \"@features/entities\";\r\nimport { LOADING_STATUS, SUCCEEDED_STATUS } from \"@shared/constants\";\r\nimport { selectPageStatus } from \"./selectors\";\r\n\r\nexport const fetchPage = createAsyncThunk(\r\n  \"category/fetchPage\",\r\n  async ({ categoryId, page }, { dispatch }) => {\r\n    const params = {\r\n      limit: 6,\r\n      sortBy: \"DESC\",\r\n      categoryId,\r\n      page,\r\n    };\r\n\r\n    const res = await dispatch(fetchBooks(params));\r\n    const { total, entities } = res.payload;\r\n\r\n    return {\r\n      total,\r\n      books: entities.books,\r\n    };\r\n  },\r\n  {\r\n    condition: (_, { getState }) => {\r\n      const status = selectPageStatus(getState());\r\n\r\n      if (status === SUCCEEDED_STATUS) {\r\n        return false;\r\n      }\r\n    },\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  current: 1,\r\n  page: 1,\r\n  isVisible: false,\r\n  pagination: {},\r\n};\r\n\r\nconst slice = createSlice({\r\n  name: \"category\",\r\n  initialState,\r\n  reducers: {\r\n    categoryChanged: (state, action) => {\r\n      if (state.current !== action.payload) {\r\n        state.page = initialState.page;\r\n        state.current = action.payload;\r\n      }\r\n    },\r\n    pageChanged: (state, action) => {\r\n      state.page = action.payload;\r\n    },\r\n    pageVisibilityChanged: (state, action) => {\r\n      state.isVisible = action.payload;\r\n    },\r\n  },\r\n  extraReducers: {\r\n    [fetchPage.pending]: (state, action) => {\r\n      const { pagination } = state;\r\n      const { categoryId, page } = action.meta.arg;\r\n\r\n      if (!pagination[categoryId]) {\r\n        pagination[categoryId] = { totalBooks: 0, pages: {} };\r\n      }\r\n\r\n      pagination[categoryId].pages[page] = {\r\n        bookIds: [],\r\n        status: LOADING_STATUS,\r\n      };\r\n    },\r\n    [fetchPage.fulfilled]: (state, action) => {\r\n      const { pagination } = state;\r\n      const { categoryId, page } = action.meta.arg;\r\n      const { total, books = {} } = action.payload;\r\n\r\n      pagination[categoryId].totalBooks = total;\r\n      pagination[categoryId].pages[page].bookIds = Object.keys(books).map(\r\n        Number\r\n      );\r\n      pagination[categoryId].pages[page].status = SUCCEEDED_STATUS;\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  categoryChanged,\r\n  pageChanged,\r\n  pageVisibilityChanged,\r\n} = slice.actions;\r\n\r\nexport * from \"./selectors\";\r\n\r\nexport default slice.reducer;\r\n","import React from \"react\";\r\nimport { Col } from \"react-flexbox-grid\";\r\nimport { Book } from \"@shared/components\";\r\n\r\nexport const renderContent = ({ books, isLoading, pageSize }) => {\r\n  let items = books.map((book) => (\r\n    <Book\r\n      id={book.id}\r\n      cover={book.cover}\r\n      author={book.author}\r\n      title={book.title}\r\n      description={book.description}\r\n      price={book.price}\r\n      key={book.id}\r\n    />\r\n  ));\r\n\r\n  if (isLoading) {\r\n    items = [...Array(pageSize).keys()].map((key) => <Book.Loader key={key} />);\r\n  }\r\n\r\n  return items.map((item) => (\r\n    <Col xs={12} lg={6} key={item.key}>\r\n      {item}\r\n    </Col>\r\n  ));\r\n};\r\n","import React from \"react\";\r\nimport { Row, Col } from \"react-flexbox-grid\";\r\nimport { Element } from \"react-scroll\";\r\nimport VisibilitySensor from \"react-visibility-sensor\";\r\n\r\nimport { Pagination } from \"@shared/components\";\r\nimport { usePage } from \"../../hooks\";\r\nimport { renderContent } from \"./renderContent\";\r\nimport styles from \"./Category.module.scss\";\r\n\r\nexport function Category() {\r\n  const {\r\n    books,\r\n    totalBooks,\r\n    isLoading,\r\n    pageId,\r\n    noBooks,\r\n    pageSize,\r\n    onPageChange,\r\n    onVisibilityChange,\r\n  } = usePage();\r\n\r\n  if (noBooks) {\r\n    return <p className={styles.noBooks}>No books</p>;\r\n  }\r\n\r\n  return (\r\n    <VisibilitySensor partialVisibility onChange={onVisibilityChange}>\r\n      <Row>\r\n        <Element name=\"CategoryContent\" />\r\n        {renderContent({ books, isLoading, pageSize })}\r\n\r\n        {totalBooks ? (\r\n          <Col className={styles.paginationCol} xs={12} lg={6}>\r\n            <div className={styles.pagination}>\r\n              <Pagination\r\n                current={pageId}\r\n                total={totalBooks}\r\n                pageSize={pageSize}\r\n                onChange={onPageChange}\r\n              />\r\n            </div>\r\n          </Col>\r\n        ) : null}\r\n      </Row>\r\n    </VisibilitySensor>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { scroller } from \"react-scroll\";\r\n\r\nimport { LOADING_STATUS, SUCCEEDED_STATUS } from \"@shared/constants\";\r\nimport {\r\n  fetchPage,\r\n  pageChanged,\r\n  pageVisibilityChanged,\r\n  selectCategoryId,\r\n  selectPageId,\r\n  selectTotalBooks,\r\n  selectPageStatus,\r\n  selectBooks,\r\n} from \"../categorySlice\";\r\n\r\nexport const usePage = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const categoryId = useSelector(selectCategoryId);\r\n  const pageId = useSelector(selectPageId);\r\n  const totalBooks = useSelector(selectTotalBooks);\r\n  const books = useSelector(selectBooks);\r\n  const status = useSelector(selectPageStatus);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchPage({ categoryId, page: pageId }));\r\n  }, [dispatch, categoryId, pageId]);\r\n\r\n  const handlePageChange = (id) => {\r\n    dispatch(pageChanged(id));\r\n    scroller.scrollTo(\"CategoryContent\");\r\n  };\r\n\r\n  const handleVisibilityChange = (isVisible) => {\r\n    dispatch(pageVisibilityChanged(isVisible));\r\n  };\r\n\r\n  return {\r\n    books,\r\n    totalBooks,\r\n    isLoading: status === LOADING_STATUS,\r\n    pageId,\r\n    noBooks: status === SUCCEEDED_STATUS && !totalBooks,\r\n    pageSize: 6,\r\n    onPageChange: handlePageChange,\r\n    onVisibilityChange: handleVisibilityChange,\r\n  };\r\n};\r\n","import classNames from \"classnames/bind\";\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport { useCategory } from \"@features/category\";\r\nimport { useCategories } from \"@features/entities\";\r\nimport { Loader } from \"../Loader\";\r\nimport styles from \"./Menu.module.scss\";\r\n\r\nconst cx = classNames.bind(styles);\r\n\r\nexport function Menu() {\r\n  const { categories, isLoading } = useCategories();\r\n  const { categoryId, onCategoryChange } = useCategory();\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <ul className={styles.menu}>\r\n      {categories.map((category) => (\r\n        <li\r\n          className={cx(\"item\", { active: category.id === categoryId })}\r\n          key={category.id}\r\n        >\r\n          <Link to=\"/\" onClick={() => onCategoryChange(category.id)}>\r\n            {category.name}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n","import { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { LOADING_STATUS } from \"@shared/constants\";\r\nimport {\r\n  fetchCategories,\r\n  selectAllCategories,\r\n  selectTotalCategories,\r\n  selectCategoriesStatus,\r\n} from \"../categoriesSlice\";\r\n\r\nexport const useCategories = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const categories = useSelector(selectAllCategories);\r\n  const totalCategories = useSelector(selectTotalCategories);\r\n  const status = useSelector(selectCategoriesStatus);\r\n\r\n  useEffect(() => {\r\n    dispatch(fetchCategories());\r\n  }, [dispatch]);\r\n\r\n  return {\r\n    categories,\r\n    isLoading: status === LOADING_STATUS && !totalCategories,\r\n  };\r\n};\r\n","import { useDispatch, useSelector } from \"react-redux\";\r\nimport { scroller } from \"react-scroll\";\r\nimport {\r\n  categoryChanged,\r\n  selectCategoryId,\r\n  selectPageVisibility,\r\n} from \"../categorySlice\";\r\n\r\nexport const useCategory = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const categoryId = useSelector(selectCategoryId);\r\n  const isPageVisible = useSelector(selectPageVisibility);\r\n\r\n  const handleCategoryChange = (id) => {\r\n    dispatch(categoryChanged(id));\r\n\r\n    if (!isPageVisible) {\r\n      scroller.scrollTo(\"CategoryContent\", { smooth: true });\r\n    }\r\n  };\r\n\r\n  return {\r\n    categoryId,\r\n    onCategoryChange: handleCategoryChange,\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Menu } from \"./Menu\";\r\nimport styles from \"./Sidebar.module.scss\";\r\n\r\nexport function Sidebar() {\r\n  return (\r\n    <aside className={styles.sidebar}>\r\n      <Menu />\r\n    </aside>\r\n  );\r\n}\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Grid } from \"react-flexbox-grid\";\r\n\r\nimport { Header } from \"@shared/components\";\r\n\r\nexport function CommonTemplate({ children }) {\r\n  return (\r\n    <Grid>\r\n      <Header />\r\n      <main>{children}</main>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nCommonTemplate.propTypes = {\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport React from \"react\";\r\nimport { Grid, Row, Col } from \"react-flexbox-grid\";\r\n\r\nimport { Announcement, Header, Sidebar } from \"@shared/components\";\r\nimport styles from \"./HomeTemplate.module.scss\";\r\n\r\nexport function HomeTemplate({ children }) {\r\n  return (\r\n    <Grid>\r\n      <Header />\r\n\r\n      <section className={styles.announcement}>\r\n        <Announcement />\r\n      </section>\r\n\r\n      <section>\r\n        <Row>\r\n          <Col lg={2}>\r\n            <Sidebar />\r\n          </Col>\r\n          <Col lg={10}>\r\n            <main className={styles.main}>{children}</main>\r\n          </Col>\r\n        </Row>\r\n      </section>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nHomeTemplate.propTypes = {\r\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\r\n};\r\n","import NotFound from \"./404\";\r\nimport Cart from \"./cart\";\r\nimport Home from \"./index\";\r\n\r\nexport default [\r\n  {\r\n    path: \"/\",\r\n    exact: true,\r\n    component: Home,\r\n  },\r\n  {\r\n    path: \"/cart\",\r\n    exact: true,\r\n    component: Cart,\r\n  },\r\n  {\r\n    path: \"*\",\r\n    component: NotFound,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Category } from \"@features/category\";\r\nimport { HomeTemplate } from \"@shared/templates\";\r\n\r\nexport default function Home() {\r\n  return (\r\n    <HomeTemplate>\r\n      <Helmet title=\"Home\" />\r\n\r\n      <Category />\r\n    </HomeTemplate>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nimport { CartTable } from \"@features/cart\";\r\nimport styles from \"@shared/styles/Cart.module.scss\";\r\nimport { CommonTemplate } from \"@shared/templates\";\r\n\r\nexport default function Cart() {\r\n  return (\r\n    <CommonTemplate>\r\n      <Helmet title=\"Cart\" />\r\n\r\n      <div className={styles.wrapper}>\r\n        <CartTable />\r\n      </div>\r\n    </CommonTemplate>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { Redirector } from \"@shared/components\";\r\nimport { CommonTemplate } from \"@shared/templates\";\r\n\r\nexport default function NotFound() {\r\n  return (\r\n    <CommonTemplate>\r\n      <Helmet title=\"Not Found\" />\r\n\r\n      <Redirector message=\"404 Not Found\" />\r\n    </CommonTemplate>\r\n  );\r\n}\r\n","import \"@shared/styles/globals.scss\";\r\nimport React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { renderRoutes } from \"react-router-config\";\r\nimport { HashRouter } from \"react-router-dom\";\r\nimport { ToastProvider } from \"react-toast-notifications\";\r\n\r\nimport { ScrollToTop } from \"@shared/components\";\r\nimport routes from \"./_routes\";\r\n\r\nexport default function App() {\r\n  return (\r\n    <HashRouter>\r\n      <ScrollToTop />\r\n      <ToastProvider autoDismiss>\r\n        <Helmet defaultTitle=\"bookstore\" titleTemplate=\"%s — bookstore\" />\r\n        {renderRoutes(routes)}\r\n      </ToastProvider>\r\n    </HashRouter>\r\n  );\r\n}\r\n","import { combineReducers } from \"@reduxjs/toolkit\";\r\n\r\nimport { cartReducer } from \"@features/cart\";\r\nimport { categoryReducer } from \"@features/category\";\r\nimport { entitiesReducer } from \"@features/entities\";\r\n\r\nexport const rootReducer = combineReducers({\r\n  cart: cartReducer,\r\n  category: categoryReducer,\r\n  entities: entitiesReducer,\r\n});\r\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from \"redux-persist\";\r\nimport storage from \"redux-persist/lib/storage\";\r\n\r\nimport { rootReducer } from \"./rootReducer\";\r\n\r\nconst persistConfig = {\r\n  key: \"root\",\r\n  storage,\r\n  whitelist: [],\r\n  keyPrefix: \"bookstore:\",\r\n};\r\n\r\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\r\n\r\nexport const store = configureStore({\r\n  reducer: persistedReducer,\r\n  middleware: getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n});\r\n\r\nexport const persistor = persistStore(store);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { PersistGate } from \"redux-persist/integration/react\";\r\n\r\nimport App from \"./pages/_app\";\r\nimport { store, persistor } from \"./shared/lib/store\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <PersistGate loading={null} persistor={persistor}>\r\n        <App />\r\n      </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"product\":\"Product_product__GdqVo\",\"content\":\"Product_content__13g_f\",\"author\":\"Product_author__1yngb\",\"title\":\"Product_title__kloxF\",\"price\":\"Product_price__1DYqS\",\"removeButton\":\"Product_removeButton__1cJly\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"noBooks\":\"Category_noBooks__2zk_W\",\"paginationCol\":\"Category_paginationCol__26o8O\",\"pagination\":\"Category_pagination__fkzuh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"table\":\"CartTable_table__3ekwT\",\"button\":\"CartTable_button__14VoG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__1Yslv\",\"item\":\"Menu_item__1yJwk\",\"active\":\"Menu_active__29q-h\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"announcement\":\"HomeTemplate_announcement__2OoQc\",\"main\":\"HomeTemplate_main__2fZdP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"announcement\":\"Announcement_announcement__2hRP9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"controls\":\"Controls_controls__3qpoz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__eDaB6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__3uQBZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__3j5OS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Pagination_pagination__Fr8hv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Redirector_message__26LEm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"book\":\"Book_book__2piIc\",\"cover\":\"Book_cover__22ZCN\",\"content\":\"Book_content__2a8vo\",\"author\":\"Book_author__GYhVg\",\"description\":\"Book_description__2Y64Q\",\"title\":\"Book_title__3wynU\",\"price\":\"Book_price__3TRoM\",\"button\":\"Book_button__22KNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__egRmb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Cart_wrapper__2QCRv\"};"],"sourceRoot":""}